<ng-container *ngFor="let category of categories">
<mat-accordion>
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Categor Name: {{category.name}}
      </mat-panel-title>
      <mat-panel-description>
        Category Description: {{category.description}}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <section>
          <div class="example-button-row">
            <button mat-flat-button color="primary"  (click)="openTaskCreateModal(category)">Create Task</button>
            <button mat-flat-button color="warn"  (click)="deleteCategory(category.id)">Delete Category</button>
            <button mat-flat-button color="accent"  (click)="openUpdateCategoryModal(category)">Update Category</button>
          </div>
        </section>
    <table mat-table *ngIf="category.tasks.length" [dataSource]="category.tasks" mat-table class="mat-elevation-z8">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> name. </th>
        <td mat-cell *matCellDef="let task"> {{task.name}} </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> description </th>
        <td mat-cell *matCellDef="let task"> {{task.description}} </td>
      </ng-container>

      <ng-container matColumnDef="deadline">
        <th mat-header-cell *matHeaderCellDef> deadline </th>
        <td mat-cell *matCellDef="let task"> {{task.deadline}} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> actions </th>
        <td mat-cell *matCellDef="let task">
          <button mat-flat-button color="warn" (click)="deleteTask(task.id)">Delete</button>
          <button mat-flat-button color="accent"(click)="openTaskUpdateModal({task})">Update</button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsTasks"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsTasks;"></tr>
    </table>
        </mat-expansion-panel>

      </mat-accordion>
  <mat-divider></mat-divider>

</ng-container>
